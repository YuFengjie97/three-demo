const A1=Math.sqrt(5),b1=1/3,x=1/6,S1=(A1-1)/4,a=(5-A1)/20,B=D=>Math.floor(D)|0,x1=new Float64Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),r1=new Float64Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]);function h1(D=Math.random){const t=G1(D),o=new Float64Array(t).map(f=>x1[f%12*3]),n=new Float64Array(t).map(f=>x1[f%12*3+1]),p=new Float64Array(t).map(f=>x1[f%12*3+2]);return function(y,M,N){let T,X,Y,Z;const q=(y+M+N)*b1,P=B(y+q),Q=B(M+q),A=B(N+q),R=(P+Q+A)*x,K=P-R,L=Q-R,O=A-R,m=y-K,w=M-L,k=N-O;let u,z,c,e,r,l;m>=w?w>=k?(u=1,z=0,c=0,e=1,r=1,l=0):m>=k?(u=1,z=0,c=0,e=1,r=0,l=1):(u=0,z=0,c=1,e=1,r=0,l=1):w<k?(u=0,z=0,c=1,e=0,r=1,l=1):m<k?(u=0,z=1,c=0,e=0,r=1,l=1):(u=0,z=1,c=0,e=1,r=1,l=0);const d=m-u+x,F=w-z+x,g=k-c+x,j=m-e+2*x,C=w-r+2*x,E=k-l+2*x,H=m-1+3*x,I=w-1+3*x,J=k-1+3*x,U=P&255,W=Q&255,v=A&255;let G=.6-m*m-w*w-k*k;if(G<0)T=0;else{const i=U+t[W+t[v]];G*=G,T=G*G*(o[i]*m+n[i]*w+p[i]*k)}let b=.6-d*d-F*F-g*g;if(b<0)X=0;else{const i=U+u+t[W+z+t[v+c]];b*=b,X=b*b*(o[i]*d+n[i]*F+p[i]*g)}let S=.6-j*j-C*C-E*E;if(S<0)Y=0;else{const i=U+e+t[W+r+t[v+l]];S*=S,Y=S*S*(o[i]*j+n[i]*C+p[i]*E)}let h=.6-H*H-I*I-J*J;if(h<0)Z=0;else{const i=U+1+t[W+1+t[v+1]];h*=h,Z=h*h*(o[i]*H+n[i]*I+p[i]*J)}return 32*(T+X+Y+Z)}}function D1(D=Math.random){const t=G1(D),o=new Float64Array(t).map(y=>r1[y%32*4]),n=new Float64Array(t).map(y=>r1[y%32*4+1]),p=new Float64Array(t).map(y=>r1[y%32*4+2]),f=new Float64Array(t).map(y=>r1[y%32*4+3]);return function(M,N,T,X){let Y,Z,q,P,Q;const A=(M+N+T+X)*S1,R=B(M+A),K=B(N+A),L=B(T+A),O=B(X+A),m=(R+K+L+O)*a,w=R-m,k=K-m,u=L-m,z=O-m,c=M-w,e=N-k,r=T-u,l=X-z;let d=0,F=0,g=0,j=0;c>e?d++:F++,c>r?d++:g++,c>l?d++:j++,e>r?F++:g++,e>l?F++:j++,r>l?g++:j++;const C=d>=3?1:0,E=F>=3?1:0,H=g>=3?1:0,I=j>=3?1:0,J=d>=2?1:0,U=F>=2?1:0,W=g>=2?1:0,v=j>=2?1:0,G=d>=1?1:0,b=F>=1?1:0,S=g>=1?1:0,h=j>=1?1:0,i=c-C+a,l1=e-E+a,i1=r-H+a,a1=l-I+a,f1=c-J+2*a,m1=e-U+2*a,p1=r-W+2*a,y1=l-v+2*a,k1=c-G+3*a,w1=e-b+3*a,u1=r-S+3*a,z1=l-h+3*a,d1=c-1+4*a,F1=e-1+4*a,g1=r-1+4*a,j1=l-1+4*a,V=R&255,_=K&255,$=L&255,t1=O&255;let n1=.6-c*c-e*e-r*r-l*l;if(n1<0)Y=0;else{const s=V+t[_+t[$+t[t1]]];n1*=n1,Y=n1*n1*(o[s]*c+n[s]*e+p[s]*r+f[s]*l)}let s1=.6-i*i-l1*l1-i1*i1-a1*a1;if(s1<0)Z=0;else{const s=V+C+t[_+E+t[$+H+t[t1+I]]];s1*=s1,Z=s1*s1*(o[s]*i+n[s]*l1+p[s]*i1+f[s]*a1)}let o1=.6-f1*f1-m1*m1-p1*p1-y1*y1;if(o1<0)q=0;else{const s=V+J+t[_+U+t[$+W+t[t1+v]]];o1*=o1,q=o1*o1*(o[s]*f1+n[s]*m1+p[s]*p1+f[s]*y1)}let c1=.6-k1*k1-w1*w1-u1*u1-z1*z1;if(c1<0)P=0;else{const s=V+G+t[_+b+t[$+S+t[t1+h]]];c1*=c1,P=c1*c1*(o[s]*k1+n[s]*w1+p[s]*u1+f[s]*z1)}let e1=.6-d1*d1-F1*F1-g1*g1-j1*j1;if(e1<0)Q=0;else{const s=V+1+t[_+1+t[$+1+t[t1+1]]];e1*=e1,Q=e1*e1*(o[s]*d1+n[s]*F1+p[s]*g1+f[s]*j1)}return 27*(Y+Z+q+P+Q)}}function G1(D){const o=new Uint8Array(512);for(let n=0;n<512/2;n++)o[n]=n;for(let n=0;n<512/2-1;n++){const p=n+~~(D()*(256-n)),f=o[n];o[n]=o[p],o[p]=f}for(let n=256;n<512;n++)o[n]=o[n-256];return o}export{h1 as a,D1 as c};
